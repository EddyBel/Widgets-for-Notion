<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playwrite+FR+Moderne:wght@100..400&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Holidays</title>
    <style>
        * {
            font-family: "Playwrite FR Moderne", cursive;
            font-optical-sizing: auto;
            font-weight: 100;
            font-style: normal;
        }
    </style>
</head>

<body>
    <div
        class="w-full min-h-screen flex flex-col items-center justify-center bg-[url(https://backiee.com/static/wallpapers/1000x563/375821.jpg)] bg-cover bg-center rounded-2xl">
        <div
            class="w-[85%] h-[80vh] rounded-xl backdrop-blur-xl text-white font-bold flex justify-center items-center flex-col gap-5 text-center">
            <div class="flex flex-row items-center justify-center">
                <?xml version="1.0" ?><!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools -->
                <svg width="40px" height="40px" viewBox="0 0 24 24" data-name="Layer 1" id="Layer_1"
                    xmlns="http://www.w3.org/2000/svg">
                    <title />
                    <path
                        d="M12.3232,8.03613l-1.3183-.71484a3.13222,3.13222,0,0,0-.8584-3.76563l1.0068-1.11132A4.6226,4.6226,0,0,1,12.3232,8.03613Z"
                        style="fill:#c78657" />
                    <path
                        d="M7.125,6h-.25C4.1826,6,2,9.35785,2,13.5S4.1826,21,6.875,21h.25C9.8174,21,12,17.6422,12,13.5S9.8174,6,7.125,6Z"
                        style="fill:#ffab66" />
                    <path
                        d="M17.125,6h-.25C14.1826,6,12,9.35785,12,13.5S14.1826,21,16.875,21h.25C19.8174,21,22,17.6422,22,13.5S19.8174,6,17.125,6Z"
                        style="fill:#ffab66" />
                    <path
                        d="M12.0758,6h-.1516C9.20465,6,7,9.35785,7,13.5S9.20465,21,11.9242,21h.1516C14.7954,21,17,17.6422,17,13.5S14.7954,6,12.0758,6Z"
                        style="fill:#ffab66" />
                    <polygon points="10 12 5 12 6 9 10 12" style="fill:#fff" />
                    <polygon points="14 12 19 12 18 9 14 12" style="fill:#fff" />
                    <polygon points="13.5 14 10.5 14 12 12 13.5 14" style="fill:#fff" />
                    <polygon
                        points="15.111 17.828 12 16.791 8.889 17.828 5.584 15.624 6.416 14.376 9.111 16.172 12 15.209 14.889 16.172 17.584 14.376 18.416 15.624 15.111 17.828"
                        style="fill:#fff7c2" />
                </svg>
                <h1 class="text-2xl text-white" id="date__now"></h1>
            </div>

            <h1 class="text-md text-white/80" id="date__date"></h1>
            <p class="text-md text-white text-center flex flex-row items-center justify-center gap-2 mt-2"
                id="date__days">
            </p>
        </div>
    </div>
</body>

<script>
    const $ = el => document.getElementById(el)

    function tiempoRestante(fecha) {
        const ahora = new Date();
        const fechaObjetivo = new Date(fecha);
        const diferencia = fechaObjetivo - ahora;

        let segundos = Math.floor(diferencia / 1000);
        let minutos = Math.floor(segundos / 60);
        let horas = Math.floor(minutos / 60);
        let dias = Math.floor(horas / 24);

        segundos %= 60;
        minutos %= 60;
        horas %= 24;

        return {
            dias,
            horas,
            minutos,
            segundos
        };
    }

    function formatearFecha(fecha) {
        const meses = [
            'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',
            'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'
        ];
        const fechaObj = new Date(fecha);
        const dia = fechaObj.getDate();
        const mes = meses[fechaObj.getMonth()];
        const año = fechaObj.getFullYear();

        return `${dia} ${mes} ${año}`;
    }

    const elementCounter = (time, ref) => `<span
                    class="bg-orange-500 py-1 px-2 rounded-xl text-center flex flex-col items-center justify-center w-auto flex-0 text-center">
                    ${time}<span>${ref}</span></span>
                    <span`

    document.addEventListener('DOMContentLoaded', () => {

        const dateNow = $("date__now")
        const dateDays = $("date__days")
        const dateDate = $("date__date")
        const yearNow = new Date().getFullYear()
        const holidayDate = `${yearNow}-11-1`
        const holidaysMessage = `Dia de Muertos ${yearNow}`
        const formatholidaydate = formatearFecha(holidayDate)

        dateDate.textContent = formatholidaydate
        const time = tiempoRestante(holidayDate)
        dateNow.textContent = holidaysMessage

        const day = elementCounter(time.dias, 'Días')
        const hour = elementCounter(time.horas, 'H')
        const minute = elementCounter(time.minutos, 'Min')
        const second = elementCounter(time.segundos, 'Seg')
        dateDays.innerHTML = `${day} ${hour} ${minute} ${second}`


        setInterval(() => {

            const time = tiempoRestante(holidayDate)
            const day = elementCounter(time.dias, 'Días')
            const hour = elementCounter(time.horas, 'H')
            const minute = elementCounter(time.minutos, 'Min')
            const second = elementCounter(time.segundos, 'Seg')
            dateDays.innerHTML = `${day} ${hour} ${minute} ${second}`
        }, 1000)


    })
</script>

</html>